---
title: "FastAPI CRUD Endpoints â€” Build, Validate, and Handle Data the Right Way"
description: "Learn how to create and update data with FastAPI using POST and PUT endpoints, proper validation, and structured error handling."
date: "2025-11-14"
tags: ["FastAPI", "CRUD", "Backend", "Python", "API"]
---

# âš™ï¸ FastAPI CRUD Endpoints  
*Learn how to build and validate data with clean and reliable FastAPI routes.*

---

## ğŸ§  What is CRUD?

CRUD stands for **Create, Read, Update, Delete** â€” the four basic operations every backend must support.  
FastAPI makes CRUD development easy, fast, and secure with minimal code.

---

ğŸ’¡ **Real-World Example:**  
A **Task Tracker App** uses CRUD to:
- Create new tasks (POST)  
- View tasks (GET)  
- Update them (PUT)  
- Delete them (DELETE)  

Every web app â€” from **Trello** to **Notion** â€” follows this same pattern.

---

## ğŸ”¹ 1. POST Endpoint â€” Create Data  

### ğŸ§© Step 1: Define a Model  

Use **Pydantic** to define what a valid task looks like.

```python
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()

class Task(BaseModel):
    title: str
    description: str | None = None
    completed: bool = False
````

---

### ğŸ§© Step 2: Create the Endpoint

```python
@app.post("/tasks")
def create_task(task: Task):
    return {"message": "Task created successfully", "data": task}
```

âœ… This:

* Accepts JSON input
* Validates it automatically
* Returns the created data

---

### ğŸ’¡ Real-World Example

When a user creates a new note in **Google Keep**,
the backend uses a POST request to store that note in the database.

---

### ğŸ§¾ Example Request

```json
POST /tasks
{
  "title": "Buy groceries",
  "description": "Milk, Bread, Eggs"
}
```

### âœ… Example Response

```json
{
  "message": "Task created successfully",
  "data": {
    "title": "Buy groceries",
    "description": "Milk, Bread, Eggs",
    "completed": false
  }
}
```

---

## ğŸ”¹ 2. PUT Endpoint â€” Update Data

### ğŸ§© Step 1: Create Update Model

```python
class TaskUpdate(BaseModel):
    title: str | None = None
    description: str | None = None
    completed: bool | None = None
```

This model allows **partial updates** â€” meaning the user doesnâ€™t have to resend all fields.

---

### ğŸ§© Step 2: Write PUT Endpoint

```python
@app.put("/tasks/{task_id}")
def update_task(task_id: int, task: TaskUpdate):
    # Normally, you'd fetch task from DB and update it
    return {"message": f"Task {task_id} updated", "data": task}
```

âœ… What happens:

* `task_id` comes from the URL
* The request body provides new values
* You return the updated result

---

ğŸ’¡ **Real-World Example:**
In **Trello**, when you rename a card or mark it as complete,
the app sends a PUT request to update that specific card.

---

### ğŸ§¾ Example Request

```json
PUT /tasks/2
{
  "completed": true
}
```

### âœ… Example Response

```json
{
  "message": "Task 2 updated",
  "data": {
    "completed": true
  }
}
```

---

## ğŸ”’ 3. Data Validation

### ğŸ”¹ Why Validation Is Important

You should never trust data coming from the user â€”
Pydantic automatically helps validate fields and enforce rules.

---

### ğŸ§© Example

```python
from pydantic import Field

class Task(BaseModel):
    title: str = Field(..., min_length=3, max_length=50)
    completed: bool = False
```

If a user sends a title thatâ€™s too short or empty,
FastAPI returns a **422 Unprocessable Entity** with details.

---

### ğŸ§¾ Example Error Response

```json
{
  "detail": [
    {
      "loc": ["body", "title"],
      "msg": "ensure this value has at least 3 characters",
      "type": "value_error.any_str.min_length"
    }
  ]
}
```

ğŸ’¡ **Real-World Example:**
Just like Instagram doesnâ€™t allow blank captions,
FastAPI ensures your backend wonâ€™t accept invalid data.

---

## ğŸš¨ 4. Error Responses

### ğŸ”¹ Using HTTPException

FastAPI provides `HTTPException` for clean and structured error handling.

---

### ğŸ§© Example

```python
from fastapi import HTTPException

@app.get("/tasks/{task_id}")
def get_task(task_id: int):
    if task_id != 1:  # Simulating "not found"
        raise HTTPException(status_code=404, detail="Task not found")
    return {"task_id": task_id, "title": "Sample Task"}
```

âœ… Returns a friendly message instead of crashing.

---

### ğŸ§¾ Example Response

```json
{
  "detail": "Task not found"
}
```

ğŸ’¡ **Real-World Example:**
When you open a deleted YouTube video,
you get a clear message â€œVideo not foundâ€ instead of a blank page â€” thatâ€™s a controlled error response.

---

### ğŸ”¹ Common Error Codes

| Code | Meaning      | Example                  |
| ---- | ------------ | ------------------------ |
| 400  | Bad Request  | Missing or invalid input |
| 401  | Unauthorized | User not logged in       |
| 404  | Not Found    | Task doesnâ€™t exist       |
| 409  | Conflict     | Duplicate entry          |
| 500  | Server Error | Something unexpected     |

---

## ğŸ§© Full CRUD Example (Summary)

```python
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel

app = FastAPI()

class Task(BaseModel):
    title: str
    description: str | None = None
    completed: bool = False

tasks = []

@app.post("/tasks")
def create_task(task: Task):
    tasks.append(task)
    return {"message": "Task created", "task": task}

@app.put("/tasks/{task_id}")
def update_task(task_id: int, task: Task):
    if task_id >= len(tasks):
        raise HTTPException(status_code=404, detail="Task not found")
    tasks[task_id] = task
    return {"message": "Task updated", "task": task}
```

âœ… A complete working FastAPI CRUD example â€” easy to expand for databases later.

---

## ğŸ§¾ Summary

| Concept         | Description          | Real-World Example       |
| --------------- | -------------------- | ------------------------ |
| POST Endpoint   | Create new data      | Add new task in Trello   |
| PUT Endpoint    | Update existing data | Rename or mark complete  |
| Data Validation | Check correctness    | Enforce form rules       |
| Error Responses | Handle gracefully    | â€œTask not foundâ€ message |

---

## ğŸ’¡ Final Thought

CRUD is the backbone of every API â€” itâ€™s where data is created, modified, and kept consistent.
FastAPI makes this process **simple, fast, and safe** with its built-in validation and error handling.

ğŸ’¬ â€œIn modern APIs, reliability isnâ€™t optional â€” validation makes it possible.â€

---

