---
title: "Vulnerability Testing â€” Simple Explanation with Real World Examples"
description: "Understand SQL Injection, XSS, CSRF, and Security Headers with easy explanations and simple code examples to protect your web applications."
date: "2025-11-08"
tags: ["Security", "Vulnerability Testing", "SQL Injection", "XSS", "CSRF", "Headers"]
---

# ğŸ§  Vulnerability Testing  
*Learn how to find and fix common web application vulnerabilities with simple examples.*

---

## ğŸ” What is Vulnerability Testing?

Vulnerability testing is the process of finding weak points in your web app before hackers do.  

It helps make sure your:
- Database is safe  
- User data is protected  
- Web pages cannot be misused  

Weâ€™ll learn four major vulnerabilities that most web apps face and how to prevent them with **simple logic and code**.

---

## ğŸ’‰ 1. SQL Injection (SQLi)

**Problem:**  
SQL Injection happens when attackers put malicious SQL code inside input fields to access data from your database.

---

### ğŸ”¸ Example of an Attack

Letâ€™s say your backend code looks like this:

```python
username = input("Enter username: ")
query = f"SELECT * FROM users WHERE name = '{username}'"
db.execute(query)
````

If a user types this:

```
admin' OR '1'='1
```

Then the query becomes:

```
SELECT * FROM users WHERE name = 'admin' OR '1'='1';
```

This means the attacker can log in as anyone â€” even without a password!

---

### âœ… How to Prevent It

**Solution:** Use parameterized queries or ORM models.

**Example (Python + SQLAlchemy):**

```python
db.execute("SELECT * FROM users WHERE name = :name", {"name": username})
```

Or using ORM safely:

```python
user = db.query(User).filter(User.name == username).first()
```

ğŸ’¡ **Real-World Example:**
A shopping app could be hacked if the product search field is not protected.
Attackers could use SQL injection to see all customer details or change prices.

---

## ğŸ§¨ 2. Cross-Site Scripting (XSS)

**Problem:**
XSS happens when attackers inject malicious JavaScript code into your website, which then runs in other usersâ€™ browsers.

---

### ğŸ”¸ Example of an Attack

If your website shows user comments directly like this:

```html
<p>User says: <%= comment %></p>
```

An attacker can post:

```html
<script>alert('You got hacked!')</script>
```

Then, every user who views that page will see a popup â€” or worse, the attacker could steal their cookies.

---

### âœ… How to Prevent It

**Simple Rules:**

1. Sanitize user inputs (remove script tags).
2. Escape HTML before rendering it.
3. Use frameworks (like React or Vue) that do this automatically.
4. Add a Content Security Policy (CSP).

---

**Example (HTML Safe Output):**

```html
<p>User says: &lt;script&gt;alert('You got hacked!')&lt;/script&gt;</p>
```

Now the code shows as text â€” not as a running script.

ğŸ’¡ **Real-World Example:**
In 2019, eBay had an XSS bug that let hackers steal user data by inserting JavaScript into product descriptions.
Escaping user input is now a must for all big websites.

---

## ğŸ”’ 3. CSRF (Cross-Site Request Forgery)

**Problem:**
CSRF tricks users into performing actions they didnâ€™t intend â€” like sending money or changing passwords.

---

### ğŸ”¸ Example of an Attack

Imagine you are logged in to your bank, and someone sends you this hidden form:

```html
<form action="https://bank.com/transfer" method="POST">
  <input type="hidden" name="to" value="attacker">
  <input type="hidden" name="amount" value="10000">
</form>
```

If you open this page, it will automatically submit the form, transferring money from your account.

---

### âœ… How to Prevent It

**Solution:**

1. Use **CSRF tokens** (unique per request).
2. Validate the token on the server.
3. Use **SameSite cookies**.

---

**Example (FastAPI Pseudo Code):**

```python
@app.post("/transfer")
def transfer(request: Request):
    csrf_token = request.headers.get("X-CSRF-Token")
    if csrf_token != "expected_token":
        raise HTTPException(status_code=403, detail="Invalid CSRF token")
```

ğŸ’¡ **Real-World Example:**
In 2008, MySpace had a CSRF issue that automatically made users â€œfriendâ€ a hackerâ€™s account when they viewed a page.
Now most frameworks (like Django, Laravel, Flask) add CSRF protection automatically.

---

## ğŸ›¡ï¸ 4. Security Headers

**Problem:**
Even with secure code, browsers need rules about what content they can load.
**Security headers** tell browsers how to behave safely.

---

### ğŸ”¸ Common Security Headers

| Header                               | What it Does                                | Example                               |
| ------------------------------------ | ------------------------------------------- | ------------------------------------- |
| **Content-Security-Policy (CSP)**    | Limits where scripts and data can come from | `default-src 'self'`                  |
| **X-Frame-Options**                  | Stops your page from being shown in iframes | `DENY`                                |
| **X-Content-Type-Options**           | Prevents MIME type attacks                  | `nosniff`                             |
| **Strict-Transport-Security (HSTS)** | Forces HTTPS                                | `max-age=31536000; includeSubDomains` |
| **Referrer-Policy**                  | Hides userâ€™s referrer info                  | `no-referrer`                         |

---

### âœ… Example: Add Security Headers in FastAPI

```python
from fastapi import FastAPI, Response

app = FastAPI()

@app.middleware("http")
async def add_security_headers(request, call_next):
    response: Response = await call_next(request)
    response.headers["X-Content-Type-Options"] = "nosniff"
    response.headers["X-Frame-Options"] = "DENY"
    response.headers["Strict-Transport-Security"] = "max-age=31536000; includeSubDomains"
    response.headers["Content-Security-Policy"] = "default-src 'self'"
    return response
```

ğŸ’¡ **Real-World Example:**
Banking sites and payment gateways always set these headers to stop their pages from being opened inside fake sites or phishing pages.

---

## ğŸ§¾ Summary

| Vulnerability    | Problem                       | Solution                                        |
| ---------------- | ----------------------------- | ----------------------------------------------- |
| SQL Injection    | Attackers inject SQL commands | Use parameterized queries or ORM                |
| XSS              | Injects malicious JavaScript  | Sanitize and escape input                       |
| CSRF             | Forces unwanted user actions  | Add CSRF tokens                                 |
| Security Headers | Browser misbehavior           | Set headers like CSP, HSTS, and X-Frame-Options |

---

## ğŸ’¡ Real-World Understanding

Think of security like building locks for your house:

* SQL Injection â†’ Prevents thieves from breaking your doors.
* XSS â†’ Stops strangers from planting traps inside.
* CSRF â†’ Blocks people from tricking you into opening doors for them.
* Security Headers â†’ Are like guards who enforce house rules.

Vulnerability testing helps you test all these locks before the bad guys do.
Thatâ€™s why companies like Google, Amazon, and PayPal run daily vulnerability scans and regular penetration tests.

---



